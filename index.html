<h1>EtherMUX Protocol Documentation</h1>

<h2>Acronyms</h2>
<ul>
  <li><strong>MD</strong>: Main Device (Master)</li>
  <li><strong>SD</strong>: Secondary Device (Slave)</li>
  <li><strong>SPE</strong>: Single Pair Ethernet</li>
</ul>
<hr>

<h2>Overview</h2>
<p><strong>EtherMUX</strong> is an open-source, ultra-low latency, point-to-multipoint communication protocol. It simplifies system wiring by multiplexing signals onto a single pair of wires.</p>
<ul>
  <li>Supports up to <strong>64 general-purpose signals</strong> and <strong>254 virtual COM ports</strong></li>
  <li>Establishes a <strong>full-duplex virtual communication channel</strong> from the <strong>MD</strong> to all <strong>SD</strong> devices over a single twisted pair <strong>SPE</strong> cable</li>
  <li>Devices are connected in a <strong>daisy chain configuration</strong> (no switch is required)</li>
</ul>
<hr>

<h2>Target Applications</h2>
<p>Designed for <strong>multi-axis machine control</strong> such as:</p>
<ul>
  <li>üñ®Ô∏è 3D printers</li>
  <li>ü§ñ Robotic arms</li>
</ul>
<p>These systems require <strong>synchronous motor control</strong> with minimal delay and skew. EtherMUX ensures:</p>
<ul>
  <li>Time synchronization between MD and SD devices</li>
  <li>Reliable transfer of <strong>Step</strong> and <strong>Direction</strong> pulses for stepper motors and servos</li>
  <li>Reduced frame overhead by removing traditional Ethernet headers (except for <strong>Frame Check Sequence (FCS)</strong>)</li>
</ul>
<hr>

<h2>Ultra-Low Latency</h2>
<p>Traditional Ethernet uses a <strong>store-and-forward</strong> approach, introducing latency as packets are assembled and routed through switches. EtherMUX avoids this by:</p>
<ul>
  <li>Using cut-through forwarding</li>
  <li>Eliminating unnecessary headers</li>
  <li>Maintaining tight timing for motion-critical applications</li>
</ul>
<hr>

<h2>PHY Interfaces</h2>
<p>EtherChain supports the following <strong>Single Pair Ethernet (SPE)</strong> PHYs:</p>
<table>
  <thead>
    <tr>
      <th>Interface</th>
      <th>Max Chain Length</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>100BaseT1 Full Duplex</td>
      <td>15 meters</td>
    </tr>
  </tbody>
</table>
<ul>
  <li>Based on <strong>daisy chain cut-through</strong> data flow</li>
  <li>Data is looped back at the end of the chain</li>
</ul>
<hr>

<h2>Serial over EtherMUX</h2>
<p>While <strong>I¬≤C</strong> is common for sensors and peripherals, its limited range and turnaround time make it unsuitable for long-distance or time-critical reads. EtherChain offers a more robust alternative.</p>
<hr>

<h2>EtherMUX vs Ethernet</h2>
<table>
  <thead>
    <tr>
      <th>Feature</th>
      <th>Standard Ethernet</th>
      <th>EtherMUX</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Topology</td>
      <td>Star (point-to-point)</td>
      <td>Daisy chain</td>
    </tr>
    <tr>
      <td>Switch Requirement</td>
      <td>Requires switch/router</td>
      <td>No switch required</td>
    </tr>
    <tr>
      <td>Device Communication</td>
      <td>Peer-to-peer possible</td>
      <td>Only MD-to-SD and SD to MD communication</td>
    </tr>
  </tbody>
</table>
<hr>

<h2>EtherMUX vs EtherCAT</h2>
<p><strong>EtherChain</strong> shares EtherCAT‚Äôs low-latency philosophy but avoids its complexity:</p>
<ul>
  <li>No backward compatibility burden</li>
  <li>Lightweight and easy to implement</li>
  <li>Does <strong>not</strong> support 3-port branching devices</li>
</ul>
<hr>

<h2>Single Pair Ethernet (SPE) Integration</h2>
<p>EtherMUX optimizes SPE by:</p>
<ul>
  <li>Removing Ethernet headers to save bandwidth and reduce latency</li>
  <li>Eliminating MAC addresses (All packets are broadcast to all nodes)</li>
  <li>Using a <strong>bridge protocol</strong> on the MD to interface with standard Ethernet networks</li>
</ul>
<hr>

<h2>Time Synchronization</h2>
<p>EtherMUX supports a <strong>Distributed Clock</strong> mechanism to synchronize all SD devices with the MD‚Äôs master clock, ensuring precise timing across the network.</p>
<hr>

<h2>Philosophy</h2>
<p>EtherMUX is driven by a commitment to <strong>low cost and simplicity</strong>:</p>
<ul>
  <li>Minimizes component cost, CPU load, power consumption, and system complexity</li>
  <li>Reduces labor costs by keeping the system understandable and maintainable</li>
  <li>Prioritizes simplicity over feature creep to avoid escalating system costs</li>
</ul>
<hr>
